{% extends "docmypatient/base.html" %}
{% load static %}
{% block content %}


    <form class ="adding-form" method="POST" action="{% url 'editPatient' patient_id=patient.id %}">
        {% csrf_token %}

        <div class="add-patient-title">
            <h2> Edit patient profile</h2>
            <p class="form-text">
                Once complete press 'Submit'
            </p>
        </div>

        <div class="add-item">
            <label for="doctor" class="form-label">Doctor: </label>
                <select id="doctor" class="form-input" name="doctor" required>
                    <option value={{ patient.patient.doctor.id }}>{{ patient.patient.doctor }}</option>
                    <option disabled>----------</option>
                        {% for doc in doctors %}
                    <option value={{ doc.id }}>{{ doc }}</option>
                    {% endfor %}
                </select>
         </div>

        <div class="add-item">
            <label for="first_name" class="form-label">First Name: </label>
            <input id="first_name" class="form-input" type="text" name="first_name" value="{{ patient.first_name }}" required placeholder="Enter First name">
        </div>

        <div class="add-item">
            <label for="last_name" class="form-label">Last Name: </label>
            <input id="last_name" class="form-input" type="text" name="last_name" value="{{ patient.last_name }}" required placeholder="Enter Last name">
        </div>

        <div class="add-item">
            <label for="dob" class="form-label">Date of Birth: </label>
            <input id="dob" class="form-input" type="date" name="dob" value="{{ dob }}" required placeholder="Enter Last name">
        </div>

        <div class="add-item">
            <label for="sex" class="form-label">Sex: </label>
                <select id="sex" class="form-input" name="sex">
                    <option value={{ patient.sex}}>{{ patient.sex }}</option>
                    <option disabled>----------</option>
                    <option value="Other">Other</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                </select>
        </div>


        <div class="add-item">
            <label for="address" class="form-label">Address: </label>
            <input id="address" class="form-input" type="text" name="address" value="{{ patient.patient.address }}" placeholder="Enter address">
        </div>

        <div class="add-item">
            <label for="phone_number" class="form-label" >Phone Number: </label>
            <input id="phone_number" class="form-input" type="text" name="phone_number" value="{{ patient.patient.phone_number }}" placeholder="+353">
        </div>

        <div class="add-item">
            <label for="ppsn" class="form-label">PPSN: </label>
            <input id="ppsn" class="form-input" type="text" name="ppsn"  value="{{ patient.patient.ppsn }}" required placeholder="Enter PPSN">
        </div>

        <div class="add-item">
            <label for="medical_card_num" class="form-label">Medical Card Number: </label>
            <input id="medical_card_num" class="form-input" type="text" name="medical_card_num" value="{{ patient.patient.medical_card_num }}" required placeholder="Enter Medical Card No.">
        </div>

        <div class="add-item">
            <label for="emergency_contact" class="form-label">Emergency Contact: </label>
            <input id="emergency_contact" class="form-input" type="text" name="emergency_contact" value="{{ patient.patient.emergency_contact }}" placeholder="Enter Medical Card No." >
        </div>

        <div class="add-item">
            <label for="ec_phone_number" class="form-label">EC Phone Number: </label>
            <input id="ec_phone_number" class="form-input" type="number" name="ec_phone_number" value="{{ patient.patient.ec_phone_number }}" placeholder="Enter Emergency contact No." >
        </div>

        <div class="add-item">
            <label for="ec_email_address" class="form-label">EC Email Address: </label>
            <input id="ec_email_address" class="form-input" type="text" name="ec_email_address" value="{{ patient.patient.ec_email_address }}" placeholder="Enter Emergency contact email." >
        </div>

        <div id="submitBtn" class="add-item">
            <button class="adding-form-btn" type="submit"> Submit </button>
        </div>
        {% if messages %}
            {% for message in messages %}
                {{ message }}
            {% endfor %}
        {% endif %}
    </form>


        <form method="POST" id="deleteForm" action="{% url 'deletePatient' patient_id=patient.id %}">

            <button id="delete-patient-btn" type="submit">Delete Patient</button>

            {% csrf_token %}
        </form>



{% endblock %}